### ================================
### TASK MANAGER API - TESTS
### ================================
### Base URL
@baseUrl = http://localhost:3000
@apiUrl = {{baseUrl}}/api/tasks

### ================================
### 1. HEALTH CHECK
### ================================
### Verificar que el servidor est√© corriendo
GET {{baseUrl}}

### ================================
### 2. OBTENER TODAS LAS TAREAS (GET ALL)
### ================================
### Caso correcto: listar todas las tareas
GET {{apiUrl}}

### ================================
### 3. OBTENER UNA TAREA POR ID (GET BY ID)
### ================================
### Caso correcto: obtener tarea existente (ID 1)
GET {{apiUrl}}/1

### Caso correcto: obtener tarea existente (ID 2)
GET {{apiUrl}}/2

### Caso de error: tarea no existe (ID 999)
GET {{apiUrl}}/999

### Caso de error: ID inv√°lido (texto)
GET {{apiUrl}}/abc

### ================================
### 4. CREAR NUEVA TAREA (POST)
### ================================
### Caso correcto: crear tarea con todos los campos
POST {{apiUrl}}
Content-Type: application/json

{
  "title": "Estudiar Docker",
  "description": "Aprender contenedores y Dockerfile",
  "status": "pending"
}

### Caso correcto: crear tarea sin descripci√≥n (opcional)
POST {{apiUrl}}
Content-Type: application/json

{
  "title": "Revisar Kubernetes",
  "status": "pending"
}

### Caso correcto: crear tarea solo con t√≠tulo (m√≠nimo requerido)
POST {{apiUrl}}
Content-Type: application/json

{
  "title": "Practicar AWS EC2"
}

### Caso de error: falta el t√≠tulo (campo requerido)
POST {{apiUrl}}
Content-Type: application/json

{
  "description": "Esta tarea no tiene t√≠tulo",
  "status": "pending"
}

### Caso de error: body vac√≠o
POST {{apiUrl}}
Content-Type: application/json

{}

### Caso correcto: crear tarea con status "in_progress"
POST {{apiUrl}}
Content-Type: application/json

{
  "title": "Implementar JWT",
  "description": "Agregar autenticaci√≥n con tokens",
  "status": "in_progress"
}

### Caso correcto: crear tarea con status "completed"
POST {{apiUrl}}
Content-Type: application/json

{
  "title": "Setup MySQL",
  "description": "Configurar base de datos local",
  "status": "completed"
}

### ================================
### 5. ACTUALIZAR TAREA (PUT)
### ================================
### Caso correcto: actualizar tarea completa (ID 1)
PUT {{apiUrl}}/1
Content-Type: application/json

{
  "title": "Estudiar Node.js - ACTUALIZADO",
  "description": "Repasar Express, middlewares y async/await",
  "status": "completed"
}

### Caso correcto: cambiar solo el status (ID 2)
PUT {{apiUrl}}/2
Content-Type: application/json

{
  "title": "Estudiar AWS",
  "description": "Revisar EC2, S3 y RDS",
  "status": "in_progress"
}

### Caso de error: actualizar sin t√≠tulo (campo requerido)
PUT {{apiUrl}}/1
Content-Type: application/json

{
  "description": "Descripci√≥n sin t√≠tulo",
  "status": "pending"
}

### Caso de error: actualizar tarea inexistente (ID 999)
PUT {{apiUrl}}/999
Content-Type: application/json

{
  "title": "Tarea inexistente",
  "description": "Esto deber√≠a fallar",
  "status": "pending"
}

### ================================
### 6. ELIMINAR TAREA (DELETE)
### ================================
### Caso correcto: eliminar tarea existente (ID 3)
DELETE {{apiUrl}}/3

### Caso de error: eliminar tarea inexistente (ID 999)
DELETE {{apiUrl}}/999

### Caso de error: ID inv√°lido (texto)
DELETE {{apiUrl}}/abc

### ================================
### 7. FLUJO COMPLETO (E2E TEST)
### ================================
### Paso 1: Crear una nueva tarea
POST {{apiUrl}}
Content-Type: application/json

{
  "title": "Tarea de prueba E2E",
  "description": "Esta tarea ser√° creada, actualizada y eliminada",
  "status": "pending"
}

### Paso 2: Obtener todas las tareas (verificar que se cre√≥)
GET {{apiUrl}}

### Paso 3: Obtener la tarea espec√≠fica (usar el ID que te devolvi√≥ el POST)
GET {{apiUrl}}/4

### Paso 4: Actualizar la tarea
PUT {{apiUrl}}/4
Content-Type: application/json

{
  "title": "Tarea de prueba E2E - ACTUALIZADA",
  "description": "Descripci√≥n modificada",
  "status": "in_progress"
}

### Paso 5: Verificar la actualizaci√≥n
GET {{apiUrl}}/4

### Paso 6: Eliminar la tarea
DELETE {{apiUrl}}/4

### Paso 7: Verificar que fue eliminada (deber√≠a dar 404)
GET {{apiUrl}}/4

### ================================
### 8. PRUEBAS DE EDGE CASES
### ================================
### T√≠tulo muy largo (255 caracteres m√°ximo)
POST {{apiUrl}}
Content-Type: application/json

{
  "title": "Este es un t√≠tulo extremadamente largo para probar el l√≠mite de caracteres permitidos en la base de datos MySQL que tiene un VARCHAR de 255 caracteres como m√°ximo y queremos ver qu√© sucede cuando intentamos insertar algo que excede ese l√≠mite establecido en el esquema",
  "description": "Prueba de l√≠mite de caracteres"
}

### Descripci√≥n muy larga (TEXT sin l√≠mite definido)
POST {{apiUrl}}
Content-Type: application/json

{
  "title": "Tarea con descripci√≥n larga",
  "description": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
}

### Status inv√°lido (solo acepta: pending, in_progress, completed)
POST {{apiUrl}}
Content-Type: application/json

{
  "title": "Tarea con status inv√°lido",
  "status": "cancelled"
}

### Caracteres especiales en el t√≠tulo
POST {{apiUrl}}
Content-Type: application/json

{
  "title": "Tarea con √©mojis üöÄ y s√≠mbolos @#$%",
  "description": "Probando caracteres especiales: √°√©√≠√≥√∫ √± ¬ø?¬°!"
}

### ================================
### 9. PRUEBAS DE RENDIMIENTO
### ================================
### Crear m√∫ltiples tareas r√°pidamente (ejecutar varias veces)
POST {{apiUrl}}
Content-Type: application/json

{
  "title": "Tarea de carga #1",
  "description": "Prueba de rendimiento"
}

###
POST {{apiUrl}}
Content-Type: application/json

{
  "title": "Tarea de carga #2",
  "description": "Prueba de rendimiento"
}

###
POST {{apiUrl}}
Content-Type: application/json

{
  "title": "Tarea de carga #3",
  "description": "Prueba de rendimiento"
}